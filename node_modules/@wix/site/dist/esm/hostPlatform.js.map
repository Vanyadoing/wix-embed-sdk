{"version":3,"names":["createWebsiteChannel","createHost","config","clientSdk","$wixContext","window","applicationId","Error","channel","close"],"sources":["../../src/hostPlatform.ts"],"sourcesContent":["import { createWebsiteChannel } from './channel';\nimport type { CreateWebsiteHost, ClientSDK } from './types';\n\ndeclare global {\n  interface Window {\n    clientSdk?: ClientSDK;\n  }\n}\n\ndeclare const $wixContext: {\n  clientSdk: ClientSDK;\n};\n\nexport const createHost: CreateWebsiteHost = function (config) {\n  const clientSdk =\n    (typeof $wixContext !== 'undefined' && $wixContext.clientSdk) ||\n    config?.clientSdk ||\n    window.clientSdk;\n  const { applicationId } = config || {};\n\n  if (!applicationId) {\n    throw new Error(\n      '\"createHost\" was called without a required field \"applicationId\"',\n    );\n  }\n\n  return {\n    // environment: {},\n    channel: createWebsiteChannel({ clientSdk, applicationId }),\n    close: () => {},\n  };\n};\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,WAAW;AAahD,OAAO,MAAMC,UAA6B,GAAG,SAAAA,CAAUC,MAAM,EAAE;EAC7D,MAAMC,SAAS,GACZ,OAAOC,WAAW,KAAK,WAAW,IAAIA,WAAW,CAACD,SAAS,KAC5DD,MAAM,oBAANA,MAAM,CAAEC,SAAS,KACjBE,MAAM,CAACF,SAAS;EAClB,MAAM;IAAEG;EAAc,CAAC,GAAGJ,MAAM,IAAI,CAAC,CAAC;EAEtC,IAAI,CAACI,aAAa,EAAE;IAClB,MAAM,IAAIC,KAAK,CACb,kEACF,CAAC;EACH;EAEA,OAAO;IACL;IACAC,OAAO,EAAER,oBAAoB,CAAC;MAAEG,SAAS;MAAEG;IAAc,CAAC,CAAC;IAC3DG,KAAK,EAAEA,CAAA,KAAM,CAAC;EAChB,CAAC;AACH,CAAC"}