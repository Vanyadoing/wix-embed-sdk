{"version":3,"sources":["../../../src/stores-catalog-v3-read-only-variant-read-only-variants-v-3.http.ts","../../../src/stores-catalog-v3-read-only-variant-read-only-variants-v-3.meta.ts"],"sourcesContent":["import { transformSDKFloatToRESTFloat } from '@wix/sdk-runtime/transformations/float';\nimport { transformRESTFloatToSDKFloat } from '@wix/sdk-runtime/transformations/float';\nimport { transformRESTTimestampToSDKTimestamp } from '@wix/sdk-runtime/transformations/timestamp';\nimport { transformPaths } from '@wix/sdk-runtime/transformations/transform-paths';\nimport { resolveUrl } from '@wix/sdk-runtime/rest-modules';\nimport { ResolveUrlOpts } from '@wix/sdk-runtime/rest-modules';\nimport { RequestOptionsFactory } from '@wix/sdk-types';\n\nfunction resolveComWixStoresCatalogProductVariantsReaderApiV3ProductVariantsReaderUrl(\n  opts: Omit<ResolveUrlOpts, 'domainToMappings'>\n) {\n  const domainToMappings = {\n    'api._api_base_domain_': [\n      {\n        srcPath: '/product-variants-reader',\n        destPath: '',\n      },\n    ],\n    'www.wixapis.com': [\n      {\n        srcPath: '/stores/v3/products/query-variants',\n        destPath: '/v3/products/query-variants',\n      },\n      {\n        srcPath: '/stores/v3/products/search-variants',\n        destPath: '/v3/products/search-variants',\n      },\n    ],\n  };\n\n  return resolveUrl(Object.assign(opts, { domainToMappings }));\n}\n\nconst PACKAGE_NAME = '@wix/auto_sdk_stores_read-only-variants-v-3';\n\n/**\n * Retrieves a list of ReadOnlyVariants, given the provided [paging, filtering, and sorting][1].\n * Up to 1,000 ReadOnlyVariants can be returned per request.\n * To learn how to query ReadOnlyVariants, see [API Query Language][2].\n * [1]: https://dev.wix.com/api/rest/getting-started/sorting-and-paging\n * [2]: https://dev.wix.com/api/rest/getting-started/api-query-language\n */\nexport function queryVariants(payload: object): RequestOptionsFactory<any> {\n  function __queryVariants({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.stores.catalog.v3.read_only_variant',\n      method: 'POST' as any,\n      methodFqn:\n        'com.wix.stores.catalog.product.variants.reader.api.v3.ProductVariantsReader.QueryVariants',\n      packageName: PACKAGE_NAME,\n      url: resolveComWixStoresCatalogProductVariantsReaderApiV3ProductVariantsReaderUrl(\n        { protoPath: '/v3/products/query-variants', data: payload, host }\n      ),\n      data: payload,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTFloatToSDKFloat,\n            paths: [\n              { path: 'variants.physicalProperties.weight' },\n              {\n                path: 'variants.physicalProperties.pricePerUnit.settings.quantity',\n              },\n              { path: 'variants.revenueDetails.profitMargin' },\n            ],\n          },\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'variants.media.image.urlExpirationDate' },\n              { path: 'variants.media.video.urlExpirationDate' },\n              { path: 'variants.media.video.resolutions.urlExpirationDate' },\n              {\n                path: 'variants.media.video.resolutions.poster.urlExpirationDate',\n              },\n              { path: 'variants.media.video.posters.urlExpirationDate' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __queryVariants;\n}\n\n/**\n * Search Variants using [WQL - Wix Query Language](https://dev.wix.com/api/rest/getting-started/api-query-language)\n * >**Notes:**\n * + If you don't have permissions to read non visible products then variants related to non-visible products will be filtered out from response.\n * In such case non visible variants also will be filtered out.\n */\nexport function searchVariants(payload: object): RequestOptionsFactory<any> {\n  function __searchVariants({ host }: any) {\n    const serializedData = transformPaths(payload, [\n      {\n        transformFn: transformSDKFloatToRESTFloat,\n        paths: [\n          { path: 'search.aggregations.range.buckets.from' },\n          { path: 'search.aggregations.range.buckets.to' },\n          {\n            path: 'search.aggregations.nested.nestedAggregations.range.buckets.from',\n          },\n          {\n            path: 'search.aggregations.nested.nestedAggregations.range.buckets.to',\n          },\n        ],\n      },\n    ]);\n    const metadata = {\n      entityFqdn: 'wix.stores.catalog.v3.read_only_variant',\n      method: 'POST' as any,\n      methodFqn:\n        'com.wix.stores.catalog.product.variants.reader.api.v3.ProductVariantsReader.SearchVariants',\n      packageName: PACKAGE_NAME,\n      url: resolveComWixStoresCatalogProductVariantsReaderApiV3ProductVariantsReaderUrl(\n        {\n          protoPath: '/v3/products/search-variants',\n          data: serializedData,\n          host,\n        }\n      ),\n      data: serializedData,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTFloatToSDKFloat,\n            paths: [\n              { path: 'variants.physicalProperties.weight' },\n              { path: 'aggregationData.results.ranges.results.from' },\n              { path: 'aggregationData.results.ranges.results.to' },\n              {\n                path: 'aggregationData.results.groupedByValue.results.nestedResults.ranges.results.from',\n              },\n              {\n                path: 'aggregationData.results.groupedByValue.results.nestedResults.ranges.results.to',\n              },\n              {\n                path: 'aggregationData.results.nested.results.results.*.range.from',\n              },\n              {\n                path: 'aggregationData.results.nested.results.results.*.range.to',\n              },\n              {\n                path: 'variants.physicalProperties.pricePerUnit.settings.quantity',\n              },\n              { path: 'variants.revenueDetails.profitMargin' },\n              { path: 'aggregationData.results.scalar.value' },\n              {\n                path: 'aggregationData.results.groupedByValue.results.nestedResults.scalar.value',\n              },\n              {\n                path: 'aggregationData.results.nested.results.results.*.scalar.value',\n              },\n            ],\n          },\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'variants.media.image.urlExpirationDate' },\n              { path: 'variants.media.video.urlExpirationDate' },\n              { path: 'variants.media.video.resolutions.urlExpirationDate' },\n              {\n                path: 'variants.media.video.resolutions.poster.urlExpirationDate',\n              },\n              { path: 'variants.media.video.posters.urlExpirationDate' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __searchVariants;\n}\n","import * as ambassadorWixStoresCatalogV3ReadOnlyVariant from './stores-catalog-v3-read-only-variant-read-only-variants-v-3.http.js';\nimport * as ambassadorWixStoresCatalogV3ReadOnlyVariantTypes from './stores-catalog-v3-read-only-variant-read-only-variants-v-3.types.js';\nimport * as ambassadorWixStoresCatalogV3ReadOnlyVariantUniversalTypes from './stores-catalog-v3-read-only-variant-read-only-variants-v-3.universal.js';\n\nexport type __PublicMethodMetaInfo<\n  K = string,\n  M = unknown,\n  T = unknown,\n  S = unknown,\n  Q = unknown,\n  R = unknown\n> = {\n  getUrl: (context: any) => string;\n  httpMethod: K;\n  path: string;\n  pathParams: M;\n  __requestType: T;\n  __originalRequestType: S;\n  __responseType: Q;\n  __originalResponseType: R;\n};\n\nexport function queryVariants(): __PublicMethodMetaInfo<\n  'POST',\n  {},\n  ambassadorWixStoresCatalogV3ReadOnlyVariantUniversalTypes.QueryVariantsRequest,\n  ambassadorWixStoresCatalogV3ReadOnlyVariantTypes.QueryVariantsRequest,\n  ambassadorWixStoresCatalogV3ReadOnlyVariantUniversalTypes.QueryVariantsResponse,\n  ambassadorWixStoresCatalogV3ReadOnlyVariantTypes.QueryVariantsResponse\n> {\n  const payload = {} as any;\n\n  const getRequestOptions =\n    ambassadorWixStoresCatalogV3ReadOnlyVariant.queryVariants(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'POST',\n    path: '/v3/products/query-variants',\n    pathParams: {},\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n\nexport function searchVariants(): __PublicMethodMetaInfo<\n  'POST',\n  {},\n  ambassadorWixStoresCatalogV3ReadOnlyVariantUniversalTypes.SearchVariantsRequest,\n  ambassadorWixStoresCatalogV3ReadOnlyVariantTypes.SearchVariantsRequest,\n  ambassadorWixStoresCatalogV3ReadOnlyVariantUniversalTypes.SearchVariantsResponse,\n  ambassadorWixStoresCatalogV3ReadOnlyVariantTypes.SearchVariantsResponse\n> {\n  const payload = {} as any;\n\n  const getRequestOptions =\n    ambassadorWixStoresCatalogV3ReadOnlyVariant.searchVariants(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'POST',\n    path: '/v3/products/search-variants',\n    pathParams: {},\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n"],"mappings":"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","names":["payload","queryVariants","searchVariants"]}